# ใช้ Node.js
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

# ก๊อปปี้โค้ดทั้งหมด
COPY . .

# ---------------------------------------------------
# ❌ ลบบรรทัด RUN npm run build ทิ้งไปเลย (หรือใส่ # ข้างหน้า)
# เพราะเราจะไม่ Build แล้ว เราจะรันสดๆ เลย
# ---------------------------------------------------

EXPOSE 3000

# ✅ เปลี่ยนคำสั่งรันเป็น dev แทน
CMD ["npm", "run", "dev"]